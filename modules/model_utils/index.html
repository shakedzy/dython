
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A set of data-analysis tools for Python 3.x">
      
      
        <meta name="author" content="Shaked Zychlinski">
      
      
        <link rel="canonical" href="http://shakedzy.xyz/dython/modules/model_utils/">
      
      
        <link rel="prev" href="../nominal/">
      
      
        <link rel="next" href="../sampling/">
      
      
        
      
      
      <link rel="icon" href="../../images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>model_utils - dython</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  
  
    
  
  
  <meta property="og:type" content="documentation">
  <meta property="og:title" content="dython:model_utils">
  <meta property="og:description" content="A set of data-analysis tools for Python 3.x">
  <meta property="og:url" content="http://shakedzy.xyz/dython/modules/model_utils/">
  <meta property="og:image" content="http://shakedzy.xyz/dython/images/social_banner.png">
  <meta property="og:image:type" content="image/png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="http://shakedzy.xyz/dython/">
  <meta name="twitter:creator" content="@shakezy">
  <meta name="twitter:title" content="dython:model_utils">
  <meta name="twitter:description" content="A set of data-analysis tools for Python 3.x">
  <meta name="twitter:image" content="http://shakedzy.xyz/dython/images/social_banner.png">

  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#model_utils" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="dython" class="md-header__button md-logo" aria-label="dython" data-md-component="logo">
      
  <img src="../../images/favicon.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            dython
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              model_utils
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="cyan"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/shakedzy/dython" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    shakedzy/dython
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="dython" class="md-nav__button md-logo" aria-label="dython" data-md-component="logo">
      
  <img src="../../images/favicon.png" alt="logo">

    </a>
    dython
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/shakedzy/dython" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    shakedzy/dython
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Examples
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Modules
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Modules
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data_utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    data_utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../nominal/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    nominal
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    model_utils
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    model_utils
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ks_abc" class="md-nav__link">
    <span class="md-ellipsis">
      
        ks_abc
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metric_graph" class="md-nav__link">
    <span class="md-ellipsis">
      
        metric_graph
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#random_forest_feature_importance" class="md-nav__link">
    <span class="md-ellipsis">
      
        random_forest_feature_importance
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sampling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    sampling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../related_blogposts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Related Blogosts
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ks_abc" class="md-nav__link">
    <span class="md-ellipsis">
      
        ks_abc
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metric_graph" class="md-nav__link">
    <span class="md-ellipsis">
      
        metric_graph
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#random_forest_feature_importance" class="md-nav__link">
    <span class="md-ellipsis">
      
        random_forest_feature_importance
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="model_utils">model_utils<a class="headerlink" href="#model_utils" title="Permanent link">&para;</a></h1>
<h4 id="ks_abc"><code>ks_abc</code><a class="headerlink" href="#ks_abc" title="Permanent link">&para;</a></h4>
<p><code>ks_abc(y_true, y_pred, ax=None, figsize=None, colors=('darkorange', 'b'), title=None, xlim=(0.,1.), ylim=(0.,1.), fmt='.2f', lw=2, legend='best', plot=True, filename=None)</code></p>
<p>Perform the Kolmogorovâ€“Smirnov test over the positive and negative distributions of a binary classifier, and compute
the area between curves.</p>
<p>The KS test plots the fraction of positives and negatives predicted correctly below each threshold. It then finds
the optimal threshold, being the one enabling the best class separation.</p>
<p>The area between curves allows a better insight into separation. The higher the area is (1 being the maximum), the
more the positive and negative distributions' center-of-mass are closer to 1 and 0, respectively.</p>
<p>Based on <a href="https://github.com/reiinakano/scikit-plot">scikit-plot</a> <code>plot_ks_statistic</code> method.</p>
<ul>
<li>
<p><strong><code>y_true</code></strong> : array-like</p>
<p>The true labels of the dataset</p>
</li>
<li>
<p><strong><code>y_pred</code></strong> : array-like</p>
<p>The probabilities predicted by a binary classifier</p>
</li>
<li>
<p><strong><code>ax</code></strong> : matplotlib ax</p>
<p><em>Default: None</em></p>
<p>Matplotlib Axis on which the curves will be plotted</p>
</li>
<li>
<p><strong><code>figsize</code></strong> : <code>(int,int)</code> or <code>None</code></p>
<p><em>Default: None</em></p>
<p>a Matplotlib figure-size tuple. If <code>None</code>, falls back to Matplotlib's
default. Only used if <code>ax=None</code></p>
</li>
<li>
<p><strong><code>colors</code></strong> : list of Matplotlib color strings</p>
<p><em>Default: <code>('darkorange', 'b')</code></em></p>
<p>List of colors to be used for the plotted curves</p>
</li>
<li>
<p><strong><code>title</code></strong> : string or <code>None</code></p>
<p><em>Default: None</em></p>
<p>Plotted graph title. If <code>None</code>, default title is used</p>
</li>
<li>
<p><strong><code>xlim</code></strong> : <code>(float, float)</code></p>
<p><em>Default: (0.,1.)</em></p>
<p>X-axis limits.</p>
</li>
<li>
<p><strong><code>ylim</code></strong> : <code>(float,float)</code></p>
<p><em>Default: (0.,1.)</em></p>
<p>Y-axis limits.</p>
</li>
<li>
<p><strong><code>fmt</code></strong> : <code>string</code></p>
<p><em>Default: '.2f'</em></p>
<p>String formatting of displayed numbers.</p>
</li>
<li>
<p><strong><code>lw</code></strong> : <code>int</code></p>
<p><em>Default: 2</em></p>
<p>Line-width.</p>
</li>
<li>
<p><strong><code>legend</code></strong>: <code>string</code> or <code>None</code></p>
<p><em>Default: 'best'</em></p>
<p>A Matplotlib legend location string. See Matplotlib documentation for possible options</p>
</li>
<li>
<p><strong><code>plot</code></strong>: <code>Boolean</code>, default = True</p>
<p>Plot the KS curves</p>
</li>
<li>
<p><strong><code>filename</code></strong>: <code>string</code> or <code>None</code></p>
<p><em>Default: None</em></p>
<p>If not None, plot will be saved to the given file name.</p>
</li>
</ul>
<p><strong>Returns:</strong> A dictionary of the following keys:</p>
<ul>
<li>
<p><code>abc</code>: area between curves</p>
</li>
<li>
<p><code>ks_stat</code>: computed statistic of the KS test</p>
</li>
<li>
<p><code>eopt</code>: estimated optimal threshold</p>
</li>
<li>
<p><code>ax</code>: the ax used to plot the curves</p>
</li>
</ul>
<p><strong>Example:</strong> See <a href="../../getting_started/examples/">examples</a>.</p>
<hr />
<h4 id="metric_graph"><code>metric_graph</code><a class="headerlink" href="#metric_graph" title="Permanent link">&para;</a></h4>
<p><code>metric_graph(y_true, y_pred, metric, micro=True, macro=True, eoptimal_threshold=True, class_names=None, colors=None, ax=None, figsize=None, xlim=(0.,1.), ylim=(0.,1.02), lw=2, ls='-', ms=10, fmt='.2f', title=None, filename=None, force_multiclass=False)</code></p>
<p>Plot a metric graph of predictor's results (including AUC scores), where each
row of y_true and y_pred represent a single example.</p>
<p><strong>ROC:</strong>
Plots true-positive rate as a function of the false-positive rate of the positive label in a binary classification,
where <span class="arithmatex">\(TPR = TP / (TP + FN)\)</span> and <span class="arithmatex">\(FPR = FP / (FP + TN)\)</span>. A naive algorithm will display a linear line going from
(0,0) to (1,1), therefore having an area under-curve (AUC) of 0.5.</p>
<p>Computes the estimated optimal threshold using two methods:
* Geometric distance: Finding the closest point to the optimum at (0,1) using Euclidean distance
* Youden's J: Maximizing <span class="arithmatex">\(TPR - FPR\)</span> (corresponding to <span class="arithmatex">\(Y - X\)</span>)</p>
<p><strong>Precision-Recall:</strong>
Plots precision as a function of recall of the positive label in a binary classification, where
<span class="arithmatex">\(Precision = TP / (TP + FP)\)</span> and <span class="arithmatex">\(Recall = TP / (TP + FN)\)</span>. A naive algorithm will display a horizontal linear
line with precision of the ratio of positive examples in the dataset.
Estimated optimal threshold is computed using Euclidean (geometric) distance.</p>
<p>Based on <a href="http://scikit-learn.org/stable/auto_examples/model_selection/plot_roc.html">scikit-learn examples</a> (as was seen on April 2018):</p>
<ul>
<li>
<p><strong><code>y_true</code></strong> : <code>list / NumPy ndarray</code></p>
<p>The true classes of the predicted data.
If only one or two columns exist, the data is treated as a binary
classification (see input example below).
If there are more than 2 columns, each column is considered a
unique class, and a ROC graph and AUC score will be computed for each.</p>
</li>
<li>
<p><strong><code>y_pred</code></strong> : <code>list / NumPy ndarray</code></p>
<p>The predicted classes. Must have the same shape as <code>y_true</code>.</p>
</li>
<li>
<p><strong><code>metric</code></strong> : <code>string</code></p>
<p>The metric graph to plot. Currently supported: 'roc' for Receiver Operating Characteristic curve and
'pr' for Precision-Recall curve</p>
</li>
<li>
<p><strong><code>micro</code></strong> : <code>Boolean</code></p>
<p><em>Default: True</em></p>
<p>Whether to calculate a Micro graph (not applicable for binary cases)</p>
</li>
<li>
<p><strong><code>macro</code></strong> : <code>Boolean</code></p>
<p><em>Default: True</em></p>
<p>Whether to calculate a Macro graph (ROC metric only, not applicable for binary cases)</p>
</li>
<li>
<p><strong><code>eopt</code></strong> : <code>Boolean</code></p>
<p><em>Default: True</em></p>
<p>Whether to calculate and display the estimated-optimal threshold
for each metric graph. For ROC curves, the estimated-optimal threshold is the closest
computed threshold with (fpr,tpr) values closest to (0,1). For PR curves, it is
the closest one to (1,1) (perfect recall and precision)</p>
</li>
<li>
<p><strong><code>class_names</code></strong>: <code>list</code> or <code>string</code></p>
<p><em>Default: None</em></p>
<p>Names of the different classes. In a multi-class classification, the
order must match the order of the classes probabilities in the input
data. In a binary classification, can be a string or a list. If a list,
only the last element will be used.</p>
</li>
<li>
<p><strong><code>colors</code></strong> : list of Matplotlib color strings or <code>None</code></p>
<p><em>Default: None</em></p>
<p>List of colors to be used for the plotted curves. If <code>None</code>, falls back
to a predefined default.</p>
</li>
<li>
<p><strong><code>ax</code></strong> : matplotlib <code>ax</code></p>
<p><em>Default: None</em></p>
<p>Matplotlib Axis on which the curves will be plotted</p>
</li>
<li>
<p><strong><code>figsize</code></strong> : <code>(int,int)</code> or <code>None</code></p>
<p><em>Default: None</em></p>
<p>A Matplotlib figure-size tuple. If <code>None</code>, falls back to Matplotlib's
default. Only used if <code>ax=None</code>.</p>
</li>
<li>
<p><strong><code>xlim</code></strong> : <code>(float, float)</code></p>
<p><em>Default: (0.,1.)</em></p>
<p>X-axis limits.</p>
</li>
<li>
<p><strong><code>ylim</code></strong> : <code>(float,float)</code></p>
<p><em>Default: (0.,1.02)</em></p>
<p>Y-axis limits.</p>
</li>
<li>
<p><strong><code>lw</code></strong> : <code>int</code></p>
<p><em>Default: 2</em></p>
<p>Line-width.</p>
</li>
<li>
<p><strong><code>ls</code></strong> : <code>string</code></p>
<p><em>Default: '-'</em></p>
<p>Matplotlib line-style string</p>
</li>
<li>
<p><strong><code>ms</code></strong> : <code>int</code></p>
<p><em>Default: 10</em></p>
<p>Marker-size.</p>
</li>
<li>
<p><strong><code>fmt</code></strong> : <code>string</code></p>
<p><em>Default: '.2f'</em></p>
<p>String formatting of displayed AUC and threshold numbers.</p>
</li>
<li>
<p><strong><code>legend</code></strong>: <code>string</code> or <code>None</code></p>
<p><em>Default: 'best'</em></p>
<p>A Matplotlib legend location string. See Matplotlib documentation for possible options</p>
</li>
<li>
<p><strong><code>plot</code></strong>: <code>Boolean</code>, default = True</p>
<p>Plot the histogram</p>
</li>
<li>
<p><strong><code>title</code></strong>: <code>string</code> or <code>None</code></p>
<p><em>Default: None</em></p>
<p>Plotted graph title. If None, default title is used.</p>
</li>
<li>
<p><strong><code>filename</code></strong>: <code>string</code> or <code>None</code></p>
<p><em>Default: None</em></p>
<p>If not None, plot will be saved to the given file name.</p>
</li>
<li>
<p><strong><code>force_multiclass</code></strong>: <code>Boolean</code></p>
<p><em>Default: False</em></p>
<p>Only applicable if <code>y_true</code> and <code>y_pred</code> have two columns. If so,
consider the data as a multiclass data rather than binary (useful when plotting
curves of different models one against the other)</p>
</li>
</ul>
<p><strong>Returns:</strong>   </p>
<div class="admonition info">
<p class="admonition-title">Return value changed</p>
<p>The keys of the returned <code>dict</code> of this function changed on version 0.7.12 </p>
</div>
<p>A dictionary with these keys:
- <code>ax</code>: the Matplotlib plot axis
- <code>metrics</code>: each key is a class name from the list of provided classes., 
             Per each class, another dict exists with AUC results
             and measurement methods results.
             AUC key holds both the measured area-under-curve (under <code>val</code>)
             and the AUC of a random-guess classifier (under <code>naive</code>) for
             comparison.
             Each measurement method key contains three values: <code>x</code>, <code>y</code>, <code>val</code>,
             corresponding to the (x,y) coordinates on the metric graph of the
             threshold, and its value.
             If only one class exists, then the measurements method keys and AUC
             will be directly under <code>metrics</code>.</p>
<p><strong>Example:</strong> See <a href="../../getting_started/examples/">examples</a>.</p>
<p><strong>Binary Classification Input Example:</strong>
Consider a data-set of two data-points where the true class of the first line
is class 0, which was predicted with a probability of 0.6, and the second line's
true class is 1, with predicted probability of 0.8.
<div class="highlight"><pre><span></span><code><span class="c1"># First option:</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">metric_graph</span><span class="p">(</span><span class="n">y_true</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">y_pred</span><span class="o">=</span><span class="p">[</span><span class="mf">0.6</span><span class="p">,</span><span class="mf">0.8</span><span class="p">],</span> <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;roc&#39;</span><span class="p">)</span>
<span class="c1"># Second option:</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">metric_graph</span><span class="p">(</span><span class="n">y_true</span><span class="o">=</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]],</span> <span class="n">y_pred</span><span class="o">=</span><span class="p">[[</span><span class="mf">0.6</span><span class="p">,</span><span class="mf">0.4</span><span class="p">],[</span><span class="mf">0.2</span><span class="p">,</span><span class="mf">0.8</span><span class="p">]],</span> <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;roc&#39;</span><span class="p">)</span>
<span class="c1"># Both yield the same result</span>
</code></pre></div></p>
<hr />
<h4 id="random_forest_feature_importance"><code>random_forest_feature_importance</code><a class="headerlink" href="#random_forest_feature_importance" title="Permanent link">&para;</a></h4>
<p><code>random_forest_feature_importance(forest, features, precision=4)</code></p>
<p>Given a trained <code>sklearn.ensemble.RandomForestClassifier</code>, plot the different features based on their
importance according to the classifier, from the most important to the least.</p>
<ul>
<li>
<p><strong><code>forest</code></strong> : <code>sklearn.ensemble.RandomForestClassifier</code></p>
<p>A trained <code>RandomForestClassifier</code></p>
</li>
<li>
<p><strong><code>features</code></strong> : <code>list</code></p>
<p>A list of the names of the features the classifier was trained on, ordered by the same order the appeared in the training data</p>
</li>
<li>
<p><strong><code>precision</code></strong> : <code>int</code></p>
<p><em>Default: 4</em></p>
<p>Precision of feature importance.</p>
</li>
</ul>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; Shaked Zychlinski
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://shakedzy.xyz/" target="_blank" rel="noopener" title="shakedzy.xyz" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.36 14c.08-.66.14-1.32.14-2s-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2m-5.15 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 0 1-4.33 3.56M14.34 14H9.66c-.1-.66-.16-1.32-.16-2s.06-1.35.16-2h4.68c.09.65.16 1.32.16 2s-.07 1.34-.16 2M12 19.96c-.83-1.2-1.5-2.53-1.91-3.96h3.82c-.41 1.43-1.08 2.76-1.91 3.96M8 8H5.08A7.92 7.92 0 0 1 9.4 4.44C8.8 5.55 8.35 6.75 8 8m-2.92 8H8c.35 1.25.8 2.45 1.4 3.56A8 8 0 0 1 5.08 16m-.82-2C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2s.06 1.34.14 2M12 4.03c.83 1.2 1.5 2.54 1.91 3.97h-3.82c.41-1.43 1.08-2.77 1.91-3.97M18.92 8h-2.95a15.7 15.7 0 0 0-1.38-3.56c1.84.63 3.37 1.9 4.33 3.56M12 2C6.47 2 2 6.5 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/shakedzy" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/in/shakedzy/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://shakedzy.medium.com/" target="_blank" rel="noopener" title="shakedzy.medium.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M369.4 32c43.4 0 78.6 35.2 78.6 78.6v83.8c-1.9-.1-3.8-.2-5.7-.2h-.4c-10 0-22.3 2.4-31.1 6.8-10 4.6-18.7 11.5-26 20.6-11.8 14.6-18.9 34.3-20.6 56.4-.1.7-.1 1.3-.2 2s-.1 1.2-.1 1.9c-.1 1.2-.1 2.4-.1 3.6 0 1.9-.1 3.8 0 5.8 1.2 50.1 28.2 90.2 76.3 90.2 2.7 0 5.3-.1 7.9-.4v20.4c0 43.4-35.2 78.6-78.6 78.6L78.6 480C35.2 480 0 444.8 0 401.4V110.6C0 67.2 35.2 32 78.6 32zM82.3 138.9l.3.1c13.2 3 19.8 7.4 19.8 23.4v187.2c0 16-6.7 20.4-19.9 23.4l-.3.1v2.8H135v-2.8l-.3-.1c-13.2-3-19.9-7.4-19.9-23.4V173.3l86.1 202.5h4.9l88.6-208.2v186.6c-1.1 12.6-7.8 16.5-19.7 19.2l-.3.1v2.7h91.9v-2.7l-.3-.1c-11.9-2.7-18.7-6.6-19.9-19.2l-.1-191.8h.1c0-16 6.7-20.4 19.9-23.4l.3-.1v-2.7h-72.2l-67 157.4-67-157.4H82.3zM448 340.3c-25.1-7.4-43-35.1-41.2-67.8h41.1v67.8zm-6.4-135.6c2.3 0 4.4.3 6.4.9V263h-40.2c1.5-33.6 13.6-57.9 33.8-58.3"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>